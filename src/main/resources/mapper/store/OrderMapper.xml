<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.mgv.store.mapper.OrderMapper">
    <insert id="insertOrder" parameterType="Order">
        INSERT INTO MGV_ORDER
        (
            ORDER_ID,
            ORDER_NAME,
            ORDER_PRODUCTS,
            ORDER_SPECIFIC_PRODUCTS,
            TOTAL_PRICE,
            USER_ID,
            USER_NAME
        )
        VALUES
            (#{orderId},#{orderName},#{orderProducts},#{orderSpecificProducts},#{totalPrice},#{userId},#{userName})
    </insert>
<<<<<<< HEAD


    <select id="getOrderById" resultType="Order" parameterType="long">
         SELECT
             USER_ID                        as userId,
             USER_NAME                      as userName,
             ORDER_NAME                     as orderName,
             ORDER_PRODUCTS                 as orderProducts,
             TOTAL_PRICE                    as totalPrice,
             PAY_METHOD                     as payMethod,
             PAYMENT_KEY                    as paymentKey,
             CREATE_DATE                    as createDate,
             UPDATE_DATE                    as updateDate,
             ORDER_SPECIFIC_PRODUCTS        as orderSpecificProducts,
             ORDER_STATE                    as orderState
         FROM
             MGV_ORDER
         WHERE
             ORDER_ID = #{value}

    </select>

    <update id="updateOrder" parameterType="order">
        update MGV_ORDER
        SET
            ORDER_STATE = #{orderState},
            PAYMENT_KEY = #{paymentKey}
        where ORDER_ID=${orderId}
    </update>


=======
    <select id="getOrderList" resultType="Order">
    	SELECT
	    	ORDER_ID	AS orderId,	
			USER_ID		AS userId,
			USER_NAME	AS userName,
			ORDER_NAME	AS orderName,
			TOTAL_PRICE	AS totalPrice,
			CREATE_DATE	AS createDate,
			UPDATE_DATE	AS updateDate,
			ORDER_STATE	AS orderState
    	FROM
    		MGV_ORDER
    	WHERE
    	    ORDER_STATE LIKE '%완료'
		    OR
		    ORDER_STATE LIKE '%취소'
		ORDER BY
		    CREATE_DATE DESC 
		LIMIT
		    6;
    </select>
>>>>>>> develop
</mapper>